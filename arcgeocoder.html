<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Esri Leaflet Geocoder</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />

    <!-- Load Leaflet from CDN-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet-src.js"></script>

    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet"></script>

    <!-- Esri Leaflet Geocoder -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css"
    />
    <script src="https://unpkg.com/esri-leaflet-geocoder"></script>

    <!-- Make the map fill the entire page -->
    <style>
      #map {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>
    <script>
	  var map = L.map('map').setView([46.43, -115.03], 3); //mocus point, idaho
      var tiles = L.esri.basemapLayer("Streets").addTo(map);

      // create the geocoding control and add it to the map
      var searchControl = L.esri.Geocoding.geosearch({
        providers: [
          L.esri.Geocoding.arcgisOnlineProvider({
            // AAPKfcf75b5e8a51409fb878c0da5b824083emag0C7lR0lzLx5hh23BkBUG788W9-Rv0WgWY4Y2YZPQEqdECOGJ7FPC8bxPL58U //stolen
            // AAPK9221e776567848d595d506041ea79856l2CknOuP-4thmApEGIJ8Vo_euP90HAsdx76liFRQ4VKyxGlhu-r-Q9YImSF6jDwk //work
            apikey: 'AAPKb697f8e334b44eac87e0f0990efefdd3i1gDqBRNTUj9WPsbh3p622Md-u5mdqowKc6q5loPZSUWPJhPTdXvKcwMl0dz6f6U' //workmine
          })
        ]
      }).addTo(map);

      map.attributionControl.setPrefix("Set attrib here");
      // create an empty layer group to store the results and add it to the map
      var results = L.layerGroup().addTo(map);

      // listen for the results event and add every result to the map
      searchControl.on("results", function (data) {
        results.clearLayers();
        for (var i = data.results.length - 1; i >= 0; i--) {  results.addLayer(L.circleMarker(data.results[i].latlng, {
            radius: 7,
            fillColor: "purple",
            color: "purple",
            weight: 4,
            opacity: 1,
            fillOpacity: 0.4,
        }));
        }
      });
    </script>
  </body>
</html>